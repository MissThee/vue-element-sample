{"version":3,"sources":["webpack:///./src/views/systemManage/role/index.vue?aab0","webpack:///./src/views/systemManage/role/index.vue?9076","webpack:///./src/api/role.js","webpack:///src/views/systemManage/role/index.vue","webpack:///./src/views/systemManage/role/index.vue?bd7d","webpack:///./src/views/systemManage/role/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","roleTableData","clientHeight","prop","order","on","handleRowClick","key","scopedSlots","_u","fn","scope","slot","row","status","_v","_s","$event","handelDelete","id","name","ref","formRules","form","model","value","callback","$$v","$set","expression","_l","page","select","text","handleCreate","handleSave","staticRenderFns","fetchRoleTable","request","url","fetchRole","data","updateRole","createRole","deleteRole","component"],"mappings":"yIAAA,yBAAwgB,EAAG,G,2CCA3gB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAUC,YAAY,CAAC,SAAW,SAAS,OAAS,SAAS,CAACH,EAAG,SAAS,CAACA,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,KAAK,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,KAAOR,EAAIS,cAAc,OAAST,EAAIU,aAAa,OAAS,GAAG,eAAe,CAACC,KAAM,OAAQC,MAAO,aAAa,OAAS,IAAIC,GAAG,CAAC,YAAYb,EAAIc,iBAAiB,CAACV,EAAG,kBAAkB,CAACW,IAAI,QAAQP,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,MAAQ,QAAQJ,EAAG,kBAAkB,CAACW,IAAI,OAAOP,MAAM,CAAC,KAAO,OAAO,MAAQ,MAAM,SAAW,MAAMJ,EAAG,kBAAkB,CAACW,IAAI,OAAOP,MAAM,CAAC,KAAO,OAAO,MAAQ,KAAK,SAAW,MAAMJ,EAAG,kBAAkB,CAACW,IAAI,SAASP,MAAM,CAAC,KAAO,SAAS,MAAQ,KAAK,MAAQ,OAAO,MAAQ,SAAS,SAAW,IAAIQ,YAAYhB,EAAIiB,GAAG,CAAC,CAACF,IAAI,UAAUG,GAAG,SAASC,GAAO,MAAO,CAACf,EAAG,MAAM,CAACE,YAAY,eAAeE,MAAM,CAAC,KAAO,aAAaY,KAAK,aAAa,CAAChB,EAAG,SAAS,CAACI,MAAM,CAAC,KAA2B,OAApBW,EAAME,IAAIC,OAAe,UAAU,SAAS,KAAO,SAAS,CAACtB,EAAIuB,GAAGvB,EAAIwB,GAAGL,EAAME,IAAIC,YAAY,UAAUlB,EAAG,kBAAkB,CAACW,IAAI,YAAYP,MAAM,CAAC,MAAQ,QAAQ,MAAQ,KAAK,MAAQ,SAAS,MAAQ,MAAMQ,YAAYhB,EAAIiB,GAAG,CAAC,CAACF,IAAI,UAAUG,GAAG,SAASC,GAAO,MAAO,CAACf,EAAG,YAAY,CAACG,YAAY,CAAC,MAAQ,OAAOC,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASY,GAAQ,OAAOzB,EAAI0B,aAAaP,EAAME,IAAIM,GAAGR,EAAME,IAAIO,SAAS,CAACxB,EAAG,IAAI,CAACE,YAAY,mBAAmBN,EAAIuB,GAAG,0CAA0C,IAAI,GAAGnB,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,KAAK,CAACJ,EAAG,UAAU,CAACE,YAAY,0BAA0B,CAACF,EAAG,UAAU,CAACyB,IAAI,WAAWrB,MAAM,CAAC,MAAQR,EAAI8B,UAAU,KAAO,OAAO,MAAQ9B,EAAI+B,KAAK,cAAc,SAAS,CAAC3B,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,QAAQ,CAACJ,EAAG,WAAW,CAAC4B,MAAM,CAACC,MAAOjC,EAAI+B,KAAS,KAAEG,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI+B,KAAM,OAAQI,IAAME,WAAW,gBAAgB,GAAGjC,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,UAAUJ,EAAG,eAAe,CAACI,MAAM,CAAC,cAAc,SAAS,CAACJ,EAAG,oBAAoB,CAAC4B,MAAM,CAACC,MAAOjC,EAAI+B,KAAiB,aAAEG,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI+B,KAAM,eAAgBI,IAAME,WAAW,sBAAsBrC,EAAIsC,GAAItC,EAAS,MAAE,SAASuC,GAAM,OAAOnC,EAAG,MAAM,CAACE,YAAY,eAAeN,EAAIsC,GAAG,EAAO,SAASE,GAAQ,OAAOpC,EAAG,cAAc,CAACW,IAAIyB,EAAOP,MAAMzB,MAAM,CAAC,MAAQgC,EAAOP,QAAQ,CAACjC,EAAIuB,GAAGvB,EAAIwB,GAAGgB,EAAOC,MAAM,0CAA0C,KAAK,IAAI,GAAGrC,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACJ,EAAG,WAAW,CAAC4B,MAAM,CAACC,MAAOjC,EAAI+B,KAAS,KAAEG,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI+B,KAAM,OAAQI,IAAME,WAAW,gBAAgB,GAAGjC,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,eAAe,UAAU,iBAAiB,UAAU,cAAc,KAAK,gBAAgB,KAAK,eAAe,KAAK,iBAAiB,MAAMwB,MAAM,CAACC,MAAOjC,EAAI+B,KAAW,OAAEG,SAAS,SAAUC,GAAMnC,EAAIoC,KAAKpC,EAAI+B,KAAM,SAAUI,IAAME,WAAW,kBAAkB,GAAGjC,EAAG,eAAe,CAACI,MAAM,CAAC,cAAc,SAAS,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,OAAO,KAAO,WAAWK,GAAG,CAAC,MAAQ,SAASY,GAAQ,OAAOzB,EAAI0C,kBAAkB,CAAC1C,EAAIuB,GAAG,UAAUnB,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWK,GAAG,CAAC,MAAQ,SAASY,GAAQ,OAAOzB,EAAI2C,gBAAgB,CAAC3C,EAAIuB,GAAG,SAAS,IAAI,IAAI,IAAI,IAAI,IAAI,IAC/oGqB,EAAkB,G,wBCAf,SAASC,IACd,OAAOC,eAAQ,CACbC,IAAK,gBAIF,SAASC,EAAUrB,GACxB,OAAOmB,eAAQ,CACbC,IAAK,aACLE,KAAM,CAAC,GAAMtB,KAIV,SAASuB,EAAWD,GACzB,OAAOH,eAAQ,CACbC,IAAK,eACLE,KAAM,CAAE,KAASA,KAId,SAASE,EAAWF,GACzB,OAAOH,eAAQ,CACbC,IAAK,eACLE,KAAM,CAAE,KAAQA,KAIb,SAASG,EAAWzB,GACzB,OAAOmB,eAAQ,CACbC,IAAK,eACLE,KAAM,CAAC,GAAMtB,K,wCCwCjB,GACE,WAAF,GACE,KAAF,aACE,KAHF,WAII,MAAJ,CACM,cAAN,GACM,aAAN,EACM,mBAAN,EACM,YAAN,CACQ,OAAR,KACQ,OAAR,MAEM,KAAN,CACQ,KAAR,GACQ,KAAR,GACQ,OAAR,KACQ,aAAR,IAEM,MAAN,GAyBM,KAAN,GACM,UAAN,CACQ,KAAR,CACA,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,QACA,CAAU,IAAV,EAAU,IAAV,GAAU,QAAV,iBAAU,QAAV,SAEQ,KAAR,CACA,CAAU,IAAV,EAAU,IAAV,IAAU,QAAV,kBAAU,QAAV,UAGM,WAAN,KAGE,QAxDF,WAyDI,KAAJ,YACI,KAAJ,qBACM,KAAN,iEACM,IAAN,OACM,OAAN,oBACQ,EAAR,kEAEM,KAAN,mBAGE,QAAF,CACI,UADJ,WACM,IAAN,OACM,KAAN,eACM,IAAN,iBACQ,EAAR,+BACQ,EAAR,kBAGI,eARJ,SAQA,GAAM,IAAN,OACM,KAAN,eACM,EAAN,uBACQ,EAAR,iBACQ,EAAR,iBAEM,KAAN,qBAEI,aAhBJ,WAiBM,KAAN,MACQ,KAAR,GACQ,KAAR,GACQ,OAAR,KACQ,aAAR,IAEM,KAAN,qBAEI,aAzBJ,SAyBA,KAAM,IAAN,OACM,KAAN,mEACQ,kBAAR,KACQ,iBAAR,KACQ,KAAR,UACQ,0BAAR,IACA,gBACQ,EAAR,eACQ,EAAR,oBACU,EAAV,eACU,EAAV,YACU,OAAV,OAAU,CAAV,YAEA,qBAOI,WA7CJ,WA6CM,IAAN,OACM,KAAN,uCACA,IACA,yBACY,EAAZ,eACY,EAAZ,yBACc,EAAd,YACc,OAAd,OAAc,CAAd,QACc,EAAd,kBAEA,0BACY,EAAZ,eACY,EAAZ,yBACc,EAAd,YACc,OAAd,OAAc,CAAd,QACc,EAAd,sBAMI,cAlEJ,WAmEM,IAAN,iBACQ,IAAR,qBACA,KACQ,IAAR,WACU,EAAV,MAAY,MAAZ,kBAAY,KAAZ,8BAEQ,KAAR,kBCnN6W,I,wBCQzW0B,EAAY,eACd,EACAtD,EACA6C,GACA,EACA,KACA,WACA,MAIa,aAAAS,E","file":"static/js/chunk-1fe2e202.7260b015.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4f44b55e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4f44b55e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animate\",staticStyle:{\"overflow\":\"hidden\",\"height\":\"100%\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-table',{attrs:{\"data\":_vm.roleTableData,\"height\":_vm.clientHeight,\"stripe\":\"\",\"default-sort\":{prop: 'name', order: 'ascending'},\"border\":\"\"},on:{\"row-click\":_vm.handleRowClick}},[_c('el-table-column',{key:\"index\",attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_c('el-table-column',{key:\"name\",attrs:{\"prop\":\"name\",\"label\":\"角色名\",\"sortable\":\"\"}}),_c('el-table-column',{key:\"note\",attrs:{\"prop\":\"note\",\"label\":\"备注\",\"sortable\":\"\"}}),_c('el-table-column',{key:\"status\",attrs:{\"prop\":\"status\",\"label\":\"状态\",\"width\":\"80px\",\"align\":\"center\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"name-wrapper\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_c('el-tag',{attrs:{\"type\":scope.row.status ==='正常'?'success':'danger',\"size\":\"mini\"}},[_vm._v(_vm._s(scope.row.status))])],1)]}}])}),_c('el-table-column',{key:\"operation\",attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"align\":\"center\",\"width\":\"53\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"color\":\"red\"},attrs:{\"size\":\"mini\",\"type\":\"text\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handelDelete(scope.row.id,scope.row.name)}}},[_c('i',{staticClass:\"el-icon-remove\"}),_vm._v(\"删除\\n                        \")])]}}])})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-card',{staticClass:\"box-card el-card__body\"},[_c('el-form',{ref:\"formData\",attrs:{\"rules\":_vm.formRules,\"size\":\"mini\",\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"权限分配\"}}),_c('el-form-item',{attrs:{\"label-width\":\"30px\"}},[_c('el-checkbox-group',{model:{value:(_vm.form.checkedPages),callback:function ($$v) {_vm.$set(_vm.form, \"checkedPages\", $$v)},expression:\"form.checkedPages\"}},_vm._l((_vm.pages),function(page){return _c('div',{staticClass:\"page-border\"},_vm._l((page),function(select){return _c('el-checkbox',{key:select.value,attrs:{\"label\":select.value}},[_vm._v(_vm._s(select.text)+\"\\n                                \")])}),1)}),0)],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"note\"}},[_c('el-input',{model:{value:(_vm.form.note),callback:function ($$v) {_vm.$set(_vm.form, \"note\", $$v)},expression:\"form.note\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-switch',{attrs:{\"active-color\":\"#33cc66\",\"inactive-color\":\"#ff6666\",\"active-text\":\"正常\",\"inactive-text\":\"停用\",\"active-value\":\"正常\",\"inactive-value\":\"停用\"},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1),_c('el-form-item',{attrs:{\"label-width\":\"50px\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleCreate()}}},[_vm._v(\"新建角色\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSave()}}},[_vm._v(\"保存\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from 'src/utils/request'\r\nexport function fetchRoleTable() {\r\n  return request({\r\n    url: '/role/table',\r\n  })\r\n}\r\n\r\nexport function fetchRole(id) {\r\n  return request({\r\n    url: '/role/role',\r\n    data: {'id': id}\r\n  })\r\n}\r\n\r\nexport function updateRole(data ) {\r\n  return request({\r\n    url: '/role/update',\r\n    data: { 'form':  data  }\r\n  })\r\n}\r\n\r\nexport function createRole(data ) {\r\n  return request({\r\n    url: '/role/create',\r\n    data: { 'form': data  }\r\n  })\r\n}\r\n\r\nexport function deleteRole(id) {\r\n  return request({\r\n    url: '/role/delete',\r\n    data: {'id': id}\r\n  })\r\n}\r\n\r\n","<template>\r\n    <div class=\"animate\" style=\"overflow: hidden;height: 100%;\">\r\n        <el-row>\r\n            <el-col :span=\"12\">\r\n                <el-table :data=\"roleTableData\" @row-click=\"handleRowClick\" :height=\"clientHeight\" stripe\r\n                          :default-sort=\"{prop: 'name', order: 'ascending'}\" border >\r\n                    <el-table-column key=\"index\" type=\"index\" label=\"序号\" width=\"50\"></el-table-column>\r\n                    <el-table-column key=\"name\" prop=\"name\" label=\"角色名\" sortable></el-table-column>\r\n                    <el-table-column key=\"note\" prop=\"note\" label=\"备注\" sortable></el-table-column>\r\n                    <el-table-column key=\"status\" prop=\"status\" label=\"状态\" width=\"80px\" align=\"center\" sortable>\r\n                        <template slot-scope=\"scope\">\r\n                            <div slot=\"reference\" class=\"name-wrapper\">\r\n                                <el-tag :type=\"scope.row.status ==='正常'?'success':'danger'\" size=\"mini\">{{ scope.row.status }}</el-tag>\r\n                            </div>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column key=\"operation\" fixed=\"right\" label=\"操作\" align=\"center\" width=\"53\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button size=\"mini\" type=\"text\" style=\"color:red;\" @click=\"handelDelete(scope.row.id,scope.row.name)\" plain>\r\n                                <i class=\"el-icon-remove\"></i>删除\r\n                            </el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-card class=\"box-card el-card__body\">\r\n                    <el-form :rules=\"formRules\" ref=\"formData\" size=\"mini\" :model=\"form\" label-width=\"80px\">\r\n                        <el-form-item label=\"角色名\">\r\n                            <el-input v-model=\"form.name\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"权限分配\"></el-form-item>\r\n                        <el-form-item label-width=\"30px\">\r\n                            <el-checkbox-group v-model=\"form.checkedPages\">\r\n                                <div class=\"page-border\" v-for=\"page in pages\">\r\n                                    <el-checkbox v-for=\"select in page \" :key=\"select.value\" :label=\"select.value\">{{select.text}}\r\n                                    </el-checkbox>\r\n                                </div>\r\n                            </el-checkbox-group>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"备注\" prop=\"note\">\r\n                            <el-input v-model=\"form.note\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"状态\">\r\n                            <el-switch\r\n                                    v-model=\"form.status\"\r\n                                    active-color=\"#33cc66\"\r\n                                    inactive-color=\"#ff6666\"\r\n                                    active-text=\"正常\"\r\n                                    inactive-text=\"停用\"\r\n                                    active-value=\"正常\"\r\n                                    inactive-value=\"停用\">\r\n                            </el-switch>\r\n                        </el-form-item>\r\n                        <el-form-item label-width=\"50px\">\r\n                            <el-button size=\"mini\" type=\"primary\" @click=\"handleCreate()\">新建角色</el-button>\r\n                            <el-button type=\"primary\" @click=\"handleSave()\">保存</el-button>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {createRole, deleteRole, fetchRole, fetchRoleTable, updateRole} from 'src/api/role'\r\n    import {showNotify} from 'src/utils/tools'\r\n    import route from 'src/lang/zh'\r\n    import {asyncRouterMap} from 'src/router/index'\r\n\r\n    export default {\r\n        components: {},\r\n        name: 'roleOption',\r\n        data() {\r\n            return {\r\n                roleTableData: [],\r\n                clientHeight: 0,\r\n                formDialogVisible: false,\r\n                dialogTitle: {\r\n                    update: '编辑',\r\n                    create: '创建'\r\n                },\r\n                form: {\r\n                    name: '',\r\n                    note: '',\r\n                    status: '正常',\r\n                    checkedPages: [],\r\n                },\r\n                pages: [\r\n                    //page数据示例，自动取router中的路由生成\r\n                    // [\r\n                    //   {'value': 101, 'text': this.$t(\"route.userOption\")},\r\n                    //   {'value': 102, 'text': this.$t(\"route.roleOption\")},\r\n                    //   {'value': 103, 'text': this.$t(\"route.companyOption\")},\r\n                    //   {'value': 104, 'text': this.$t(\"route.postOption\")},\r\n                    //   {'value': 105, 'text': this.$t(\"route.loginPageImage\")},\r\n                    //   {'value': 106, 'text': this.$t(\"route.loginPageNews\")}\r\n                    // ],\r\n                    //\r\n                    // [\r\n                    //\r\n                    //   {'value': 201, 'text': this.$t(\"route.importantCompany\")},\r\n                    //   {'value': 202, 'text': this.$t(\"route.dangerousChemicals\")},\r\n                    //   {'value': 203, 'text': this.$t(\"route.showMap\")},\r\n                    //   {'value': 204, 'text': this.$t(\"route.combatQuery\")},\r\n                    //   {'value': 205, 'text': this.$t(\"route.material\")},\r\n                    // ],\r\n                    //\r\n                    // [\r\n                    //   {'value': 301, 'text': this.$t(\"route.knowledgeBase\")},\r\n                    //   {'value': 401, 'text': this.$t(\"route.addressBook\")},\r\n                    // ],\r\n                ],\r\n                role: {},\r\n                formRules: {\r\n                    name: [\r\n                        {required: true, message: '请输入角色名', trigger: 'blur'},\r\n                        {min: 1, max: 10, message: '长度在 1 到 10 个字符', trigger: 'blur'}\r\n                    ],\r\n                    note: [\r\n                        {min: 1, max: 200, message: '长度在 1 到 300 个字符', trigger: 'blur'}\r\n                    ]\r\n                },\r\n                formStatus: '',\r\n            }\r\n        },\r\n        mounted() {\r\n            this.fetchData()\r\n            this.$nextTick(function () {\r\n                this.clientHeight = `${document.documentElement.clientHeight}` - 80;\r\n                const that = this;\r\n                window.onresize = function temp() {\r\n                    that.clientHeight = `${document.documentElement.clientHeight}` - 80;\r\n                };\r\n                this.getRouterInfo();\r\n            })\r\n        },\r\n        methods: {\r\n            fetchData() {\r\n                this.listLoading = true;\r\n                fetchRoleTable().then(response => {\r\n                    this.roleTableData = response.data.roleTable;\r\n                    this.listLoading = false;\r\n                })\r\n            },\r\n            handleRowClick(row) {\r\n                this.listLoading = true;\r\n                fetchRole(row.id).then(response => {\r\n                    this.form = response.data.role;\r\n                    this.listLoading = false\r\n                });\r\n                this.formStatus = 'update';\r\n            },\r\n            handleCreate() {\r\n                this.form = {\r\n                    name: '',\r\n                    note: '',\r\n                    status: '正常',\r\n                    checkedPages: [],\r\n                };\r\n                this.formStatus = 'create';\r\n            },\r\n            handelDelete(id, loginId) {\r\n                this.$confirm('将删除角色 <span style=\"color:blue\">' + loginId + '</span>，是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning',\r\n                    dangerouslyUseHTMLString: true\r\n                }).then(() => {\r\n                    this.listLoading = true;\r\n                    deleteRole(id).then(response => {\r\n                        this.listLoading = false;\r\n                        this.fetchData();\r\n                        showNotify(response, '删除');\r\n                    })\r\n                }).catch(() => {\r\n                    // this.$message({\r\n                    //   type: 'info',\r\n                    //   message: '已取消删除'\r\n                    // });\r\n                });\r\n            },\r\n            handleSave() {\r\n                this.$refs['formData'].validate((valid) => {\r\n                    if (valid) {\r\n                        if (this.formStatus === 'update') {\r\n                            this.listLoading = true;\r\n                            updateRole(this.form).then(response => {\r\n                                this.fetchData();\r\n                                showNotify(response, '修改');\r\n                                this.listLoading = false;\r\n                            })\r\n                        } else if (this.formStatus === 'create') {\r\n                            this.listLoading = true;\r\n                            createRole(this.form).then(response => {\r\n                                this.fetchData();\r\n                                showNotify(response, '添加');\r\n                                this.listLoading = false;\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            getRouterInfo() {\r\n                for (let i in asyncRouterMap) {\r\n                    let child = asyncRouterMap[i].children;\r\n                    let pages = [];\r\n                    for (let j in child) {\r\n                        pages.push({'value': child[j].meta.page[0], 'text': this.$t(\"route.\" + child[j].name)})\r\n                    }\r\n                    this.pages.push(pages);\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .box-card {\r\n        padding: 10px;\r\n        margin: auto;\r\n        width: 95%;\r\n        border: 1px solid #e6ebf5;\r\n    }\r\n\r\n    .el-card__body {\r\n        padding-left: 0;\r\n    }\r\n\r\n    .page-border {\r\n        border-top: 1px solid #ccc;\r\n        border-collapse: collapse;\r\n    }\r\n\r\n    .page-border:first-child {\r\n        border-top: none;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4f44b55e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4f44b55e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f44b55e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
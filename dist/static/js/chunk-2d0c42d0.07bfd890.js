(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c42d0"],{"3a5a":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-upload",{ref:"uploader",attrs:{action:e.process.env.BASE_API+"dangerousChemicals/uploadFile",drag:"","file-list":e.fileList,limit:1,"on-exceed":e.handleExceed,multiple:!1,"auto-upload":!0,"on-change":e.getFileList,"on-remove":e.removeFile,"before-upload":e.checkFileSize,headers:e.headers,"on-success":e.uploadSuccess,"on-progress":e.onProgress,"on-error":e.onError}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),i("em",[e._v("点击上传")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 文件不超过50M")])])},o=[],r=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),s=i("2f62");function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(i,!0).forEach(function(t){Object(r["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var c={name:"file-uploader",components:{},data:function(){return{fileList:[],fileUploading:!1}},mounted:function(){},computed:l({},Object(s["b"])(["token"]),{headers:function(){return{Authorization:this.token}}}),methods:{handleExceed:function(e,t){this.$message.warning("当前限制上传 1 个文件，选择了 ".concat(e.length+t.length,"个文件"))},getFileList:function(e,t){},removeFile:function(e,t){this.$emit("removeFile")},checkFileSize:function(e){var t=e.size/1024/1024<50;return t||this.$message.error("上传附件大小不能超过 50MB!"),t},uploadSuccess:function(e,t,i){this.fileUploading=!1,console.log(e,t,i),e.data.result?this.$emit("getFileInfo",e.data.fileName,e.data.filePath):(this.$message.error("上传附件出错，上传失败"),this.$refs.uploader.clearFiles())},clearFiles:function(){this.$refs.uploader.clearFiles()},setFiles:function(e,t){this.fileList=[{name:e,url:t}]},onProgress:function(){this.fileUploading=!0},onError:function(){this.fileUploading=!1},getUploadingState:function(){return this.fileUploading}}},u=c,f=i("2877"),p=Object(f["a"])(u,n,o,!1,null,"acf2466a",null);t["default"]=p.exports}}]);